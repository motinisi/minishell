# このレポジトリについて
42 Tokyo の課題である minishell のレポジトリです。

<br>
<br>

# チームメンバー
timanishi と rogiso

<br>
<br>

# 開発する上でのルールを決めよう
開発にあたり、最低限の簡単なルールを決めましょう。<br>
ルールは厳しすぎても、緩すぎても機能しません。<br>
ある程度自由度のあるルールを決めるとミスを減らして開発しやすくなります。

<br>
<br>

# ブランチのルール
ブランチは main / rogiso / timanishi の 3 つです。

### main ブランチ
main ブランチは提出用のブランチで、原則は**直接触らない**ようにしましょう。<br>
自分のブランチで開発したものを動作確認した上で、最後に統合するために使います。<br>
これは実際の開発でもあるルールで、開発過程でバグなどを含めないようにするためのものです。

### rogiso / timanishi ブランチ
これは自分の作業用ブランチです。<br>
開発する際は、このブランチで作業し、完成したら main ブランチに対して Pull Request を提出して main ブランチにマージします。

<br>
<br>

# 開発フロー
### 1. 最初に Issue を立てよう
実装に取り掛かる前に、実装する項目ごとに **Issue** を立てましょう。

**Issue** とは、実装をする前に実装内容(新しい機能の追加やバグ修正などの問題)を議論したり、情報共有できる機能のことです。

Issue を使うと、実装内容ごとに議論や情報共有をしたり、どうやって実装したのかを記録することができます。<br>
人間は忘れる生き物なので、実装の過程を記録することは大切です。<br>
コードを忘れてしまっても、どうやって実装したかをあとで見返すことができます。

<br>

### 2. 各個人のブランチで開発しよう
作業は各個人のブランチで行います。

<br>

### 3. なるべく細かくコミットしよう
コードの変更に区切りがついたら、なるべく細かくコミットを打ちましょう。

「○○の機能を追加した」や「○○のバグを修正した」など、変更内容にタイトルをつけられるタイミングがコミットの打ちどきです。<br>
1 回のコミットの変更内容が大きくなりすぎると、あとでバグやミスが見つかったときに原因を見つけにくくなってしまいます。

コミットコメントも具体的に書きましょう。<br>
「機能の追加」や「バグの修正」だけだと見返したときに意味が分かりにくくなります。<br>
「ファイルを読み込む機能を実装」や「実行終了時にメモリリークが起きるバグを修正」などとするととても良いです。

また、コメントにプレフィックスがあるとより良いです。

| 名前     | 意味                                                        |
| -------- | ---------------------------------------------------------- |
| add      | 新しいファイルや機能を追加したとき                            |
| change   | 既にある実装を変更するとき(バグの修正を除く)                   |
| fix      | バグを修正したとき                                           |
| refactor | コードや実装を良くするための変更をしたとき(動作に影響しない変更) |
| delete   | 不要なファイルや機能を削除したとき                            |
| import   | Git サブツリーなどを使って別のレポジトリの追加と更新をしたとき  |

コメントの例
- add: ファイルを読み込む機能を実装
- change: 数値をソートする sort_number 関数のアルゴリズムをマージソートに変更
- fix: ゲームの実行終了時にメモリリークが起きるバグを修正
- fix: norm エラーを修正
- refactor: read_map 関数の行数を削減

コメントは長すぎると、GitHub で表示したときに省略されるので、50 文字くらいにできるとちょうど良いです。<br>
より詳細にコメント書くときは、最初に 50 文字くらいのコメントを書いて、閉じる `"` の前に改行すると追加のコメントが書けます。

```bash
git commit -m "- fix: 実行終了時にメモリリークが起きるバグを修正

○ ゲームを終了させる game_exit 関数で文字列の free 忘れを修正
○ 可変長配列の free 忘れも修正"
```

<br>

### 4. Pull Request を提出しよう
ひとつの実装項目が完了したら **Pull Request** を main ブランチに対して提出します。

**Pull Request** とは、変更を加えたコミットを別のブランチにマージする前に、変更内容にバグなどの問題がないかをレビューする機能です。<br>
これにより、完成用ブランチ(今回は main ブランチ)に、バグや実装ミスの混入を減らすことができます。

Pull Request はなるべく**実装項目がひとつ完了するごとに**提出しましょう。<br>
Pull Request を一度にまとめすぎると、何を変更したのかわかりにくくなり、バグの原因になります。

<br>

### 5. Pull Request を確認しよう
Pull Request を提出したら、メンバー同士でコードの変更内容を確認しましょう。

確認する項目は

- バグがないか
- 実装項目が正しく実装できているか
- 不必要な変更がないか
- 過去に実装した機能の破壊がないか

などです。

バグや動作の確認も重要ですが、過去に実装した機能の破壊がないかもとても重要です。<br>
過去に実装を無意識に変更してしまったり、動かなくなってしまうこともよくあります。

<br>

### 6. Pull Request をマージして確認しよう
最後に、問題が無ければ Pull Request をマージしましょう。<br>
そして、main ブランチで動作確認を行いましょう。